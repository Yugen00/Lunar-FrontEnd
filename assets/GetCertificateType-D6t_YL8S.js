import{j as e,r as n,u as L,c as k,s as B}from"./index-CqKsTWsi.js";import{L as J}from"./Loader-9eFMIcgk.js";import{C as q,h as I}from"./CLoader-Dn89dtcY.js";import{D as H}from"./DeleteItem-B-CRufjd.js";function z({handleSeeAllModal:d,data:t,index:i}){return e.jsx(e.Fragment,{children:e.jsx("div",{className:"fixed inset-0 z-20 bg-black bg-opacity-75 flex justify-center items-center",children:e.jsxs("div",{className:"p-6 m-4 sm:max-w-[50%] sm:min-w-[30%] bg-white border rounded-lg shadow-md hover:shadow-lg transition-all duration-300 ",children:[e.jsx("div",{className:"flex justify-end -mt-4",children:e.jsx("button",{className:"text-2xl text-indigo-700 font-extrabold hover:text-red-300",onClick:d,children:"X"})}),e.jsx("h3",{className:"text-2xl font-semibold text-gray-800 overflow-hidden",children:`${i+1}.   ${t.TypeName}`}),e.jsx("div",{className:"mt-4 flex justify-center",children:e.jsx("span",{className:`inline-block px-4 py-1 rounded-full text-white text-sm font-medium ${t.IsActive?"bg-green-500":"bg-red-500"}`,children:t.IsActive?"Active":"Blocked"})})]})})})}function G({handleEditModal:d,data:t,updateHandle:i,isBeingProcessed:u}){const[a,r]=n.useState(t),x=m=>{r({...a,[m.target.name]:m.target.value})},c=m=>{m.preventDefault(),i(a)};return e.jsx(e.Fragment,{children:e.jsx("div",{className:"fixed inset-0 z-20 bg-black bg-opacity-75 flex justify-center items-center",children:e.jsx("div",{className:"flex mx-auto w-full justify-center",children:e.jsxs("div",{className:"w-full border bg-white  sm:max-w-xl border-indigo-400 m-4 p-4 sm:m-10",children:[e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{className:"close-btn text-2xl text-indigo-700 font-extrabold hover:text-red-300",onClick:d,children:"X"})}),e.jsxs("div",{className:"mt-4",children:[e.jsx("h1",{className:"text-2xl font-bold text-center text-gray-800 mb-6",children:"Update Certificate Type"}),e.jsxs("form",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{htmlFor:"TypeName",className:"block text-lg font-medium text-gray-800 mb-1",children:"Type Name"}),e.jsx("input",{type:"text",id:"TypeName",name:"TypeName",value:a==null?void 0:a.TypeName,onChange:x,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:border-indigo-100",required:!0})]}),e.jsx("div",{className:"md:col-span-2 flex flex-wrap justify-end gap-4",children:u?e.jsx(q,{}):e.jsx("button",{type:"submit",onClick:c,className:"px-6 py-3 bg-blue-900 text-white text-sm rounded-lg shadow-lg hover:bg-green-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all duration-300",children:"Update"})})]})]})]})})})})}function K({index:d,data:t,setOriginalData:i}){var p,y;const u=L(),[a,r]=n.useState(!1),[x,c]=n.useState(!1),[m,N]=n.useState(!1),[g,C]=n.useState(!1),b=()=>{c(!x)},j=()=>{N(!m)},T=()=>{C(!g)},f=async()=>{try{r(!0),(await k.delete(`/certificateType/Block/${t.TypeId}`)).status==200&&(i(o=>o.filter(v=>v.TypeId!==t.TypeId)),b(),B("Data Blocked Successfully","success"))}catch(h){I(h,u)}finally{r(!1)}},A=async h=>{try{r(!0);const o=await k.put("/certificateType/update",h);if(o.status==200){const v=await o.data;i(E=>E.map(D=>D.TypeId===v.TypeId?v:D)),j(),B("Certificate Type Updated Successfully","success")}}catch(o){I(o,u)}finally{r(!1)}};return e.jsxs(e.Fragment,{children:[e.jsxs("tr",{children:[e.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:d+1}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:((p=t==null?void 0:t.TypeName)==null?void 0:p.length)>25?`${(y=t==null?void 0:t.TypeName)==null?void 0:y.slice(0,25)} ...`:t.TypeName}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-center",children:e.jsx("span",{className:`px-6 py-4 w-fit inline-flex justify-center text-base leading-5 font-semibold rounded-full ${t.IsActive?"bg-green-100":"bg-red-200"} text-black`,children:t.IsActive?"Active":"Blocked"})}),e.jsxs("td",{className:"px-3 py-2 whitespace-nowrap text-center",children:[t.IsActive&&e.jsx("button",{onClick:j,title:"Edit",className:"px-2 py-1 font-medium text-white bg-blue-600 rounded-md hover:bg-blue-500 focus:outline-none focus:shadow-outline-blue active:bg-blue-600 transition duration-150 ease-in-out",children:e.jsx("i",{className:"bx bx-edit text-2xl"})}),t.IsActive&&e.jsx("button",{title:"Block",onClick:b,className:"ml-2 px-2 py-1 font-medium text-white bg-red-600 rounded-md hover:bg-red-500 focus:outline-none focus:shadow-outline-red active:bg-red-600 transition duration-150 ease-in-out",children:e.jsx("i",{className:"bx bx-block text-2xl"})}),e.jsx("button",{title:"See Details",onClick:T,className:"ml-2 px-2 py-1 font-medium text-white bg-green-600 rounded-md hover:bg-green-500 focus:outline-none focus:shadow-outline-green active:bg-green-600 transition duration-150 ease-in-out",children:e.jsx("i",{className:"bx bx-info-circle text-2xl"})})]})]}),e.jsxs("tr",{children:[x&&e.jsx("td",{children:e.jsx(H,{handleModal:b,deleteHandle:f,name:t==null?void 0:t.TypeName,isBeingProcessed:a})}),m&&e.jsx("td",{children:e.jsx(G,{handleEditModal:j,data:t,updateHandle:A,isBeingProcessed:a})}),g&&e.jsx("td",{children:e.jsx(z,{index:d,handleSeeAllModal:T,data:t})})]})]})}function V({index:d,data:t,setOriginalData:i}){const u=L(),[a,r]=n.useState(!1),[x,c]=n.useState(!1),[m,N]=n.useState(!1),[g,C]=n.useState(!1),b=()=>{c(!x)},j=()=>{N(!m)},T=()=>{C(!g)},f=async()=>{try{r(!0),(await k.delete(`/certificateType/Block/${t.TypeId}`)).status==200&&(i(y=>y.filter(h=>h.TypeId!==t.TypeId)),b(),B("Data Blocked Successfully","success"))}catch(p){I(p,u)}finally{r(!1)}},A=async p=>{try{r(!0);const y=await k.put("/certificateType/update",p);if(y.status==200){const h=await y.data;i(o=>o.map(v=>v.TypeId===h.TypeId?h:v)),j(),B("Certificate Type Updated Successfully","success")}}catch(y){I(y,u)}finally{r(!1)}};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"p-6 m-4 bg-white border rounded-lg shadow-md hover:shadow-lg transition-all duration-300 ",children:[e.jsx("h3",{className:"text-2xl font-semibold text-gray-800 overflow-hidden",children:`${d+1}.   ${t.TypeName}`}),e.jsx("div",{className:"mt-4",children:e.jsx("span",{className:`inline-block px-4 py-1 rounded-full text-white text-sm font-medium ${t.IsActive?"bg-green-500":"bg-red-500"}`,children:t.IsActive?"Active":"Blocked"})}),e.jsxs("div",{className:"mt-6 flex justify-start gap-1",children:[t.IsActive&&e.jsx("button",{onClick:j,title:"Edit",className:"px-2 py-1 font-medium text-white bg-blue-600 rounded-md hover:bg-blue-500 focus:outline-none focus:shadow-outline-blue active:bg-blue-600 transition duration-150 ease-in-out",children:e.jsx("i",{className:"bx bx-edit text-2xl"})}),t.IsActive&&e.jsx("button",{title:"Block",onClick:b,className:"px-2 py-1 font-medium text-white bg-red-600 rounded-md hover:bg-red-500 focus:outline-none focus:shadow-outline-red active:bg-red-600 transition duration-150 ease-in-out",children:e.jsx("i",{className:"bx bx-block text-2xl"})}),e.jsx("button",{title:"See Details",onClick:T,className:"px-2 py-1 font-medium text-white bg-green-600 rounded-md hover:bg-green-500 focus:outline-none focus:shadow-outline-green active:bg-green-600 transition duration-150 ease-in-out",children:e.jsx("i",{className:"bx bx-info-circle text-2xl"})})]})]}),x&&e.jsx(H,{handleModal:b,deleteHandle:f,name:t==null?void 0:t.TypeName,isBeingProcessed:a}),m&&e.jsx(G,{handleEditModal:j,data:t,updateHandle:A,isBeingProcessed:a}),g&&e.jsx(z,{index:d,handleSeeAllModal:T,data:t})]})}function W({setOriginalData:d,setInsertModalOpen:t}){const i=L(),[u,a]=n.useState(!1),[r,x]=n.useState([]),c=N=>{x({...r,[N.target.name]:N.target.value})},m=async N=>{if(N.preventDefault(),!r.TypeName.trim()){B("All fields are required!","error");return}try{a(!0);const g=await k.post("/certificateType/insert",r);if(g.status==200){const C=await g.data;d(b=>[...b,C]),t(!1),B("Certificate Type Inserted Successfully","success")}}catch(g){I(g,i)}finally{a(!1)}};return e.jsx(e.Fragment,{children:e.jsx("div",{className:"fixed inset-0 z-20 bg-black bg-opacity-75 flex justify-center items-center",children:e.jsx("div",{className:"flex mx-auto w-full justify-center",children:e.jsxs("div",{className:"w-full border bg-white sm:max-w-xl border-indigo-400 m-4 p-4 sm:m-10",children:[e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{className:"close-btn text-2xl text-indigo-700 font-extrabold hover:text-red-300",onClick:()=>t(!1),children:"X"})}),e.jsxs("div",{className:"mt-4",children:[e.jsx("h1",{className:"text-2xl font-bold text-center text-gray-800 mb-6",children:"Insert Certificate Type"}),e.jsxs("form",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{htmlFor:"TypeName",className:"block text-lg font-medium text-gray-800 mb-1",children:"Type Name"}),e.jsx("input",{type:"text",id:"TypeName",name:"TypeName",onChange:c,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:border-indigo-100",required:!0})]}),e.jsxs("div",{className:"md:col-span-2 flex flex-wrap justify-end gap-4",children:[e.jsx("button",{type:"reset",className:"px-6 py-3 bg-red-700 text-white text-sm rounded-lg shadow-lg hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-all duration-300",children:"Clear"}),u?e.jsx(q,{}):e.jsx("button",{type:"submit",onClick:m,className:"px-6 py-3 bg-blue-900 text-white text-sm rounded-lg shadow-lg hover:bg-green-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all duration-300",children:"Save"})]})]})]})]})})})})}function se(){const d=L(),[t,i]=n.useState([]),[u,a]=n.useState([]),[r,x]=n.useState(!1),[c,m]=n.useState(!1),[N,g]=n.useState(!1),[C,b]=n.useState(!1),[j,T]=n.useState(""),[f,A]=n.useState("default"),[p,y]=n.useState("default"),[h,o]=n.useState(1),[v]=n.useState(10),E=async()=>{try{x(!0);const l=await(await k.get("/certificateType/GetList")).data;i(l),console.log(l),a(l.filter(w=>w.IsActive))}catch(s){I(s,d)}finally{x(!1)}},D=async()=>{try{x(!0);const l=await(await k.get("/certificateType/GetList/true")).data;i(l),a(l.filter(w=>!w.IsActive)),g(!0)}catch(s){I(s,d)}finally{x(!1)}},X=()=>{if(!N&&!c)D();else{const s=c?t.filter(l=>l.IsActive):t.filter(l=>!l.IsActive);a(s)}m(!c),o(1)};n.useEffect(()=>{document.title="Certificate Type List",E()},[]),n.useEffect(()=>{const s=c?t.filter(l=>!l.IsActive):t.filter(l=>l.IsActive);a(s),A("default"),y("default"),T("")},[c,t]);const Q=s=>{const l=s.target.value.toLowerCase();T(l);const O=(c?t.filter(S=>!S.IsActive):t.filter(S=>S.IsActive)).filter(S=>Object.values(S).some(F=>F.toString().toLowerCase().includes(l)));a(O),o(1)},_=()=>{let s=[...u];p==="default"&&f==="default"||(f&&(s=u.filter(l=>{var w;return(w=l[f])==null?void 0:w.toString().toLowerCase().includes(j.toLowerCase())})),p&&f&&s.sort((l,w)=>{var F,R;const O=(F=l[f])==null?void 0:F.toString().toLowerCase(),S=(R=w[f])==null?void 0:R.toString().toLowerCase();return O<S?p==="asc"?-1:1:O>S?p==="asc"?1:-1:0}),a(s),o(1))};n.useEffect(()=>{_()},[f,p,j]);const $=h*v,P=$-v,M=u.slice(P,$),U=Math.ceil(u.length/v);return e.jsx(e.Fragment,{children:r?e.jsx(J,{}):e.jsxs("div",{className:"overflow-x-auto",children:[e.jsxs("div",{className:"flex justify-center min-[750px]:justify-end gap-8",children:[e.jsxs("button",{onClick:()=>b(!0),className:"bg-green-700 text-white p-4 rounded-xl flex gap-2 items-center",children:[e.jsx("i",{className:"bx bx-plus-medical"}),"Insert"]}),C&&e.jsx(W,{setOriginalData:i,setInsertModalOpen:b}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",className:"rounded-xl w-4 h-4 cursor-pointer",onChange:X,checked:c}),e.jsx("p",{children:"Show Blocked"})]})]}),e.jsxs("div",{className:"text-3xl text-center",children:[c?"Blocked":"Active"," Certificate Type"]}),e.jsxs("div",{className:"flex justify-between items-center mt-4 gap-4 flex-wrap w-full",children:[e.jsx("input",{type:"text",className:"border p-2 rounded w-screen min-[473px]:w-auto",placeholder:"Search...",value:j,onChange:Q}),e.jsxs("select",{className:"border p-2 rounded cursor-pointer",onChange:s=>A(s.target.value),value:f,children:[e.jsx("option",{value:"default",disabled:!0,children:"--Filter by Column--"}),e.jsx("option",{value:"TypeName",children:"Type Name"})]}),e.jsxs("select",{className:"border p-2 rounded cursor-pointer",onChange:s=>y(s.target.value),value:p,children:[e.jsx("option",{value:"default",disabled:!0,children:"--Sort Order--"}),e.jsx("option",{value:"asc",disabled:f==="default",children:"Ascending"}),e.jsx("option",{value:"desc",disabled:f==="default",children:"Descending"})]})]}),e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 mt-4 hidden min-[750px]:table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"S.N"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type Name"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Action"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:M.length===0?e.jsx("tr",{children:e.jsx("td",{className:"text-3xl my-5 bg-red-200 py-20 text-center rounded-3xl",colSpan:5,children:"No data available"})}):M.map((s,l)=>e.jsx(K,{index:P+l,data:s,setOriginalData:i},s.TypeId))})]}),e.jsx("div",{className:"visible min-[750px]:hidden flex flex-col",children:M.length===0?e.jsx("div",{children:e.jsx("p",{className:"text-3xl my-5 bg-red-200 py-20 text-center rounded-3xl",children:"No data available"})}):M.map((s,l)=>e.jsx(V,{index:P+l,data:s,setOriginalData:i},s.TypeId))}),e.jsxs("div",{className:"flex justify-between items-center mt-4",children:[e.jsx("button",{disabled:h===1,onClick:()=>o(s=>s-1),className:"p-2 border rounded disabled:bg-blue-300 bg-blue-600 disabled:hover:bg-blue-300 text-white hover:bg-blue-800 ",children:"Previous"}),e.jsx("div",{className:"flex gap-2",children:Array.from({length:U},(s,l)=>e.jsx("button",{onClick:()=>o(l+1),className:`p-2 border rounded ${h===l+1?"bg-blue-600 text-white":"hover:bg-blue-800 hover:text-white"}`,children:l+1},l+1))}),e.jsx("button",{disabled:h===U,onClick:()=>o(s=>s+1),className:"p-2 border rounded disabled:bg-blue-300 bg-blue-600 disabled:hover:bg-blue-300 text-white hover:bg-blue-800",children:"Next"})]})]})})}export{se as default};
