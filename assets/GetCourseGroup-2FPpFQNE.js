import{r as n,j as e,u as L,c as k,s as B}from"./index-Bflipnlb.js";import{L as J}from"./Loader-vC_s4qH0.js";import{C as U,h as I}from"./CLoader-BAw4XiKM.js";import{D as q}from"./DeleteItem-CaY5zLf6.js";function H({handleEditModal:u,data:t,updateHandle:o,isBeingProcessed:x}){const[l,a]=n.useState(t),m=p=>{a({...l,[p.target.name]:p.target.value})},i=p=>{p.preventDefault(),o(l)};return e.jsx(e.Fragment,{children:e.jsx("div",{className:"fixed inset-0 z-20 bg-black bg-opacity-75 flex justify-center items-center",children:e.jsx("div",{className:"flex mx-auto w-full justify-center ",children:e.jsxs("div",{className:"w-full bg-white border sm:max-w-xl border-indigo-400 m-4 p-4 sm:m-10",children:[e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{className:"close-btn text-2xl text-indigo-700 font-extrabold hover:text-red-300",onClick:u,children:"X"})}),e.jsxs("div",{className:"mt-4",children:[e.jsx("h1",{className:"text-2xl font-bold text-center text-gray-800 mb-6",children:"Update Course Group"}),e.jsxs("form",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 place-content-center",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{htmlFor:"GroupName",className:"block text-lg font-medium text-gray-600 mb-1",children:"Group Name"}),e.jsx("input",{type:"text",id:"GroupName",name:"GroupName",value:l==null?void 0:l.GroupName,onChange:m,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:border-indigo-100",required:!0})]}),e.jsx("div",{className:"md:col-span-2 flex flex-wrap justify-center gap-4",children:x?e.jsx(U,{}):e.jsx("button",{type:"submit",onClick:i,className:"px-6 py-3 bg-blue-900 text-white text-sm rounded-lg shadow-lg hover:bg-green-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all duration-300",children:"Save"})})]})]})]})})})})}function z({handleSeeAllModal:u,data:t,index:o}){return e.jsx(e.Fragment,{children:e.jsx("div",{className:"fixed inset-0 z-20 bg-black bg-opacity-75 flex justify-center items-center",children:e.jsxs("div",{className:"p-6 m-4 bg-white sm:min-w-[30%]  border rounded-lg shadow-md hover:shadow-lg transition-all duration-300",children:[e.jsx("div",{className:"flex justify-end -mt-4",children:e.jsx("button",{className:"text-2xl text-indigo-700 font-extrabold hover:text-red-300",onClick:u,children:"X"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:`${o+1}.   ${t.GroupName}`}),e.jsx("div",{className:"mt-4 flex justify-center",children:e.jsx("span",{className:`inline-block px-4 py-1 rounded-full text-white text-sm font-medium ${t.IsActive?"bg-green-500":"bg-red-500"}`,children:t.IsActive?"Active":"Blocked"})})]})})})}function K({index:u,data:t,setOriginalData:o}){const x=L(),[l,a]=n.useState(!1),[m,i]=n.useState(!1),[p,N]=n.useState(!1),[b,C]=n.useState(!1),j=()=>{i(!m)},v=()=>{N(!p)},w=()=>{C(!b)},c=async()=>{try{a(!0),(await k.delete(`/courseGroup/Block/${t.GroupId}`)).status==200&&(o(h=>h.filter(d=>d.GroupId!==t.GroupId)),j(),B("Data Blocked Successfully","success"))}catch(f){I(f,x)}finally{a(!1)}},A=async f=>{try{a(!0);const h=await k.put("/courseGroup/update",f);if(h.status==200){const d=await h.data;o(g=>g.map(G=>G.GroupId===d.GroupId?d:G)),v(),B("Course Group Updated Successfully","success")}}catch(h){I(h,x)}finally{a(!1)}};return e.jsxs(e.Fragment,{children:[e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u+1}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:(t==null?void 0:t.GroupName.length)>25?`${t.GroupName.slice(0,25)} ...`:t.GroupName}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-center",children:e.jsx("span",{className:`px-6 py-4 w-fit inline-flex justify-center text-base leading-5 font-semibold rounded-full ${t.IsActive?"bg-green-100":"bg-red-200"} text-black`,children:t.IsActive?"Active":"Blocked"})}),e.jsxs("td",{className:"px-3 py-2 whitespace-nowrap text-center",children:[t.IsActive&&e.jsx("button",{title:"Edit",onClick:v,className:"px-2 py-1 font-medium text-white bg-blue-600 rounded-md hover:bg-blue-500 focus:outline-none focus:shadow-outline-blue active:bg-blue-600 transition duration-150 ease-in-out",children:e.jsx("i",{className:"bx bx-edit text-2xl"})}),t.IsActive&&e.jsx("button",{title:"Block",onClick:j,className:"ml-2 px-2 py-1 font-medium text-white bg-red-600 rounded-md hover:bg-red-500 focus:outline-none focus:shadow-outline-red active:bg-red-600 transition duration-150 ease-in-out",children:e.jsx("i",{className:"bx bx-block text-2xl"})}),e.jsx("button",{title:"See Details",onClick:w,className:"ml-2 px-2 py-1 font-medium text-white bg-green-600 rounded-md hover:bg-green-500 focus:outline-none focus:shadow-outline-green active:bg-green-600 transition duration-150 ease-in-out",children:e.jsx("i",{className:"bx bx-info-circle text-2xl"})})]})]}),e.jsxs("tr",{children:[m&&e.jsx("td",{children:e.jsx(q,{handleModal:j,deleteHandle:c,name:t==null?void 0:t.GroupName,isBeingProcessed:l})}),p&&e.jsx("td",{children:e.jsx(H,{handleEditModal:v,data:t,updateHandle:A,isBeingProcessed:l})}),b&&e.jsx("td",{children:e.jsx(z,{index:u,handleSeeAllModal:w,data:t})})]})]})}function V({index:u,data:t,setOriginalData:o}){var f;const x=L(),[l,a]=n.useState(!1),[m,i]=n.useState(!1),[p,N]=n.useState(!1),[b,C]=n.useState(!1),j=()=>{i(!m)},v=()=>{N(!p)},w=()=>{C(!b)},c=async()=>{try{a(!0),(await k.delete(`/courseGroup/Block/${t.GroupId}`)).status==200&&(o(d=>d.filter(g=>g.GroupId!==t.GroupId)),j(),B("Data Blocked Successfully","success"))}catch(h){I(h,x)}finally{a(!1)}},A=async h=>{try{a(!0);const d=await k.put("/courseGroup/update",h);if(d.status==200){const g=await d.data;o(G=>G.map(D=>D.GroupId===g.GroupId?g:D)),v(),B("Course Group Updated Successfully","success")}}catch(d){I(d,x)}finally{a(!1)}};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"p-6 m-4 bg-white border rounded-lg shadow-md hover:shadow-lg transition-all duration-300",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:`${u+1}.   ${((f=t==null?void 0:t.GroupName)==null?void 0:f.length)>15?`${t.GroupName.slice(0,15)} ...`:t.GroupName}`}),e.jsx("div",{className:"mt-4",children:e.jsx("span",{className:`inline-block px-4 py-1 rounded-full text-white text-sm font-medium ${t.IsActive?"bg-green-500":"bg-red-500"}`,children:t.IsActive?"Active":"Blocked"})}),e.jsxs("div",{className:"mt-6 flex justify-start gap-2",children:[t.IsActive&&e.jsx("button",{title:"Edit",onClick:v,className:"px-2 py-1 font-medium text-white bg-blue-600 rounded-md hover:bg-blue-500 focus:outline-none focus:shadow-outline-blue active:bg-blue-600 transition duration-150 ease-in-out",children:e.jsx("i",{className:"bx bx-edit text-2xl"})}),t.IsActive&&e.jsx("button",{title:"Block",onClick:j,className:"px-2 py-1 font-medium text-white bg-red-600 rounded-md hover:bg-red-500 focus:outline-none focus:shadow-outline-red active:bg-red-600 transition duration-150 ease-in-out",children:e.jsx("i",{className:"bx bx-block text-2xl"})}),e.jsx("button",{title:"See Details",onClick:w,className:"px-2 py-1 font-medium text-white bg-green-600 rounded-md hover:bg-green-500 focus:outline-none focus:shadow-outline-green active:bg-green-600 transition duration-150 ease-in-out",children:e.jsx("i",{className:"bx bx-info-circle text-2xl"})})]})]}),m&&e.jsx(q,{handleModal:j,deleteHandle:c,name:t==null?void 0:t.GroupName,isBeingProcessed:l}),p&&e.jsx(H,{handleEditModal:v,data:t,updateHandle:A,isBeingProcessed:l}),b&&e.jsx(z,{index:u,handleSeeAllModal:w,data:t})]})}function W({setOriginalData:u,setInsertModalOpen:t}){const o=L(),[x,l]=n.useState(!1),[a,m]=n.useState([]),i=N=>{m({...a,[N.target.name]:N.target.value})},p=async N=>{if(N.preventDefault(),!a.GroupName.trim()){B("Group Name is required!","error");return}try{l(!0);const b=await k.post("/courseGroup/insert",a);if(b.status==200){const C=await b.data;u(j=>[...j,C]),t(!1),B("Course Group Inserted Successfully","success")}}catch(b){I(b,o)}finally{l(!1)}};return e.jsx(e.Fragment,{children:e.jsx("div",{className:"fixed inset-0 z-20 bg-black bg-opacity-75 flex justify-center items-center",children:e.jsx("div",{className:"flex mx-auto w-full justify-center ",children:e.jsxs("div",{className:"w-full border sm:max-w-xl bg-white border-indigo-400 m-4 p-4 sm:m-10",children:[e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{className:"close-btn text-2xl text-indigo-700 font-extrabold hover:text-red-300",onClick:()=>t(!1),children:"X"})}),e.jsxs("div",{className:"mt-4",children:[e.jsx("h1",{className:"text-2xl font-bold text-center text-gray-800 mb-6",children:"Insert Course Group"}),e.jsxs("form",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 place-content-center",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{htmlFor:"GroupName",className:"block text-lg font-medium text-gray-600 mb-1",children:"Group Name"}),e.jsx("input",{type:"text",id:"GroupName",name:"GroupName",onChange:i,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:border-indigo-100",required:!0})]}),e.jsxs("div",{className:"md:col-span-2 flex flex-wrap justify-end gap-4",children:[e.jsx("button",{type:"reset",className:"px-6 py-3 bg-red-700 text-white text-sm rounded-lg shadow-lg hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-all duration-300",children:"Clear"}),x?e.jsx(U,{}):e.jsx("button",{type:"submit",onClick:p,className:"px-6 py-3 bg-blue-900 text-white text-sm rounded-lg shadow-lg hover:bg-green-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all duration-300",children:"Insert"})]})]})]})]})})})})}function se(){const u=L(),[t,o]=n.useState([]),[x,l]=n.useState([]),[a,m]=n.useState(!1),[i,p]=n.useState(!1),[N,b]=n.useState(!1),[C,j]=n.useState(!1),[v,w]=n.useState(""),[c,A]=n.useState("default"),[f,h]=n.useState("default"),[d,g]=n.useState(1),[G]=n.useState(10),D=async()=>{try{m(!0);const r=await(await k.get("/courseGroup/GetList")).data;o(r),l(r.filter(y=>y.IsActive))}catch(s){I(s,u)}finally{m(!1)}},X=async()=>{try{m(!0);const r=await(await k.get("/courseGroup/GetList/true")).data;o(r),l(r.filter(y=>!y.IsActive)),b(!0)}catch(s){I(s,u)}finally{m(!1)}},Q=()=>{if(!N&&!i)X();else{const s=i?t.filter(r=>r.IsActive):t.filter(r=>!r.IsActive);l(s)}p(!i),g(1)};n.useEffect(()=>{document.title="Course Group List",D()},[]),n.useEffect(()=>{const s=i?t.filter(r=>!r.IsActive):t.filter(r=>r.IsActive);l(s),A("default"),h("default"),w("")},[i,t]);const T=s=>{const r=s.target.value.toLowerCase();w(r);const O=(i?t.filter(S=>!S.IsActive):t.filter(S=>S.IsActive)).filter(S=>Object.values(S).some(F=>F.toString().toLowerCase().includes(r)));l(O),g(1)},_=()=>{let s=[...x];if(f=="default"&&c=="default")return 1;c&&(s=x.filter(r=>{var y;return(y=r[c])==null?void 0:y.toString().toLowerCase().includes(v.toLowerCase())})),f&&c&&s.sort((r,y)=>{var F,R;const O=(F=r[c])==null?void 0:F.toString().toLowerCase(),S=(R=y[c])==null?void 0:R.toString().toLowerCase();return O<S?f==="asc"?-1:1:O>S?f==="asc"?1:-1:0}),l(s),g(1)};n.useEffect(()=>{_()},[c,f,v]);const P=d*G,E=P-G,M=x.slice(E,P),$=Math.ceil(x.length/G);return e.jsx(e.Fragment,{children:a?e.jsx(J,{}):e.jsxs("div",{className:"overflow-x-auto",children:[e.jsxs("div",{className:"flex justify-center min-[750px]:justify-end gap-8",children:[e.jsxs("button",{onClick:()=>j(!0),className:"bg-green-700 text-white p-4 rounded-xl flex gap-2 items-center",children:[e.jsx("i",{className:"bx bx-plus-medical"}),"Insert"]}),C&&e.jsx(W,{setOriginalData:o,setInsertModalOpen:j}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",className:"rounded-xl w-4 h-4 cursor-pointer",onChange:Q,checked:i}),e.jsx("p",{children:"Show Blocked"})]})]}),e.jsxs("div",{className:"text-3xl text-center",children:[i?"Blocked":"Active"," Course Group"]}),e.jsxs("div",{className:"flex justify-between items-center mt-4 gap-4 flex-wrap w-full",children:[e.jsx("input",{type:"text",className:"border p-2 rounded w-screen min-[473px]:w-auto",placeholder:"Search...",value:v,onChange:T}),e.jsxs("select",{className:"border p-2 rounded cursor-pointer",onChange:s=>A(s.target.value),value:c,children:[e.jsx("option",{value:"default",disabled:!0,children:"--Filter by Column--"}),e.jsx("option",{value:"GroupName",children:"Group Name"})]}),e.jsxs("select",{className:"border p-2 rounded cursor-pointer",onChange:s=>h(s.target.value),value:f,children:[e.jsx("option",{value:"default",disabled:!0,children:"--Sort Order--"}),e.jsx("option",{value:"asc",disabled:c==="default",className:c==="default"?"text-red-400":"",children:"Ascending"}),e.jsx("option",{value:"desc",disabled:c==="default",className:c==="default"?"text-red-400":"",children:"Descending"})]})]}),e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 mt-4 hidden min-[750px]:table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"S.N"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Group Name"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Action"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:M.length===0?e.jsx("tr",{children:e.jsx("td",{className:"text-3xl my-5 bg-red-200 py-20 text-center rounded-3xl",colSpan:5,children:"No data available"})}):M.map((s,r)=>e.jsx(K,{index:E+r,data:s,setOriginalData:o},s.GroupId))})]}),e.jsx("div",{className:"visible min-[750px]:hidden flex flex-col",children:M.length===0?e.jsx("div",{children:e.jsx("p",{className:"text-3xl my-5 bg-red-200 py-20 text-center rounded-3xl",children:"No data available"})}):M.map((s,r)=>e.jsx(V,{index:E+r,data:s,setOriginalData:o},s.GroupId))}),e.jsxs("div",{className:"flex justify-between items-center mt-4",children:[e.jsx("button",{disabled:d===1,onClick:()=>g(s=>s-1),className:"p-2 border rounded disabled:bg-blue-300 bg-blue-600 disabled:hover:bg-blue-300 text-white hover:bg-blue-800 ",children:"Previous"}),e.jsx("div",{className:"flex gap-2",children:Array.from({length:$},(s,r)=>e.jsx("button",{onClick:()=>g(r+1),className:`p-2 border rounded ${d===r+1?"bg-blue-600 text-white":"hover:bg-blue-800 hover:text-white"}`,children:r+1},r+1))}),e.jsx("button",{disabled:d===$,onClick:()=>g(s=>s+1),className:"p-2 border rounded disabled:bg-blue-300 bg-blue-600 disabled:hover:bg-blue-300 text-white hover:bg-blue-800",children:"Next"})]})]})})}export{se as default};
