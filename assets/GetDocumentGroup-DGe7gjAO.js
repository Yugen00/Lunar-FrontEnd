import{r as i,j as e,u as V,s as q,c as E}from"./index-C85jKTux.js";import{L as Z}from"./Loader-COa7O0nV.js";import{C as J,h as U}from"./CLoader-01Y_4TTt.js";import{D as Q}from"./DeleteItem-DZbkxsTs.js";function _({handleEditModal:t,data:c,updateHandle:u,isBeingProcessed:h}){const[s,b]=i.useState({GroupName:"",GroupDescription:"",AllowMultipleFilesUpload:!1,MaxCount:0,ParentId:null,ParentName:""});function m(d){const{children:j,...N}=d;return N}i.useEffect(()=>{if(c){const d=m(c);b({...s,...d})}},[c]);const n=d=>{const{name:j,value:N}=d.target;b(j==="AllowMultipleFilesUpload"?{...s,[j]:N==="true"}:{...s,[j]:N})},p=d=>{if(d.preventDefault(),console.log(s),!(s!=null&&s.GroupName.trim())||!(s!=null&&s.GroupDescription.trim())){showToast("All Fields are required!","error");return}u(s)};return e.jsx(e.Fragment,{children:e.jsx("div",{className:"fixed inset-0 z-20 bg-black bg-opacity-75 flex justify-center items-center",children:e.jsx("div",{className:"flex mx-auto w-full justify-center mt-[64px] max-h-[100%]",children:e.jsxs("div",{className:"w-full border bg-white sm:max-w-xl m-4 p-4 sm:m-10 overflow-y-auto scrollbar-thin scrollbar-thumb-indigo-200 scrollbar-track-transparent",children:[e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{className:"close-btn text-2xl text-indigo-700 font-extrabold hover:text-red-300",onClick:t,children:"X"})}),e.jsxs("div",{className:"-mt-4",children:[e.jsx("h1",{className:"text-2xl font-bold text-center text-gray-800 mb-6",children:"Update Document Group"}),e.jsxs("form",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 text-base",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{htmlFor:"GroupName",className:"block text-lg font-medium text-gray-800 mb-1",children:"Group Name"}),e.jsx("input",{type:"text",id:"GroupName",name:"GroupName",value:s==null?void 0:s.GroupName,onChange:n,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:border-indigo-100",required:!0})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{htmlFor:"GroupDescription",className:"block text-lg font-medium text-gray-800 mb-1",children:"Group Description"}),e.jsx("textarea",{name:"GroupDescription",id:"GroupDescription",value:(s==null?void 0:s.GroupDescription)||"",onChange:n,rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:border-indigo-100"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"AllowMultipleFilesUpload",className:"block text-lg font-medium text-gray-800 mb-1",children:"Allow Multiple Upload"}),e.jsxs("select",{id:"AllowMultipleFilesUpload",name:"AllowMultipleFilesUpload",value:s==null?void 0:s.AllowMultipleFilesUpload,onChange:n,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:border-indigo-100",required:!0,children:[e.jsx("option",{value:!1,children:"False"}),e.jsx("option",{value:!0,children:"True"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"MaxCount",className:"block text-lg font-medium text-gray-800 mb-1",children:"Max Count"}),e.jsx("input",{type:"number",id:"MaxCount",name:"MaxCount",value:s==null?void 0:s.MaxCount,onChange:n,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:border-indigo-100",required:!0})]}),(s==null?void 0:s.ParentId)&&(s==null?void 0:s.ParentName)&&e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{htmlFor:"ParentName",className:"block text-lg font-medium text-gray-800 mb-1",children:"Parent Name"}),e.jsx("input",{type:"text",id:"ParentName",name:"ParentName",value:s==null?void 0:s.ParentName,onChange:n,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:border-indigo-100",required:!0,disabled:!0})]}),e.jsx("div",{className:"md:col-span-2 flex flex-wrap justify-end gap-4",children:h?e.jsx(J,{}):e.jsx("button",{type:"submit",onClick:p,className:"px-6 py-3 bg-blue-900 text-white text-sm rounded-lg shadow-lg hover:bg-green-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all duration-300",children:"Update"})})]})]})]})})})})}function K({currentIndex:t,handleSeeAllModal:c,data:u}){return e.jsx(e.Fragment,{children:e.jsx("div",{className:"fixed inset-0 z-20 bg-black bg-opacity-75 flex justify-center items-center",children:e.jsx("div",{className:"relative sm:max-w-[35%] sm:min-w-[25%] max-h-[90vh] flex justify-center items-center p-4 mt-[64px]",children:e.jsxs("div",{className:`w-full bg-white border rounded-lg shadow-md p-6 m-4 text-base
                        overflow-y-auto max-h-[80vh] scrollbar-thin scrollbar-thumb-indigo-200 scrollbar-track-transparent`,children:[e.jsx("button",{className:"absolute right-[11%] top-[10%] text-2xl text-indigo-700 font-extrabold hover:text-red-300",onClick:c,children:"X"}),e.jsx("h3",{className:"text-2xl font-semibold text-gray-800",children:` ${t}  ${u.GroupName}`}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-gray-600 mt-2 break-words",children:[e.jsx("b",{children:"Description:"})," ",u==null?void 0:u.GroupDescription]}),e.jsxs("p",{className:"text-gray-600 mt-2",children:[e.jsx("b",{children:"Parent Name:"})," ",u.ParentName||"Self"]}),e.jsxs("p",{className:"text-gray-600 mt-2",children:[e.jsx("b",{children:"Max Count:"})," ",u.MaxCount]}),e.jsxs("p",{className:"text-gray-600 mt-2",children:[e.jsx("b",{children:"Allow Multiple Files Upload:"})," ",u.AllowMultipleFilesUpload?"True":"False"]})]}),e.jsx("div",{className:"mt-4 flex justify-center",children:e.jsx("span",{className:`inline-block  px-4 py-1 rounded-full text-white text-base font-medium ${u.IsActive?"bg-green-500":"bg-red-500"}`,children:u.IsActive?"Active":"Blocked"})})]})})})})}function X({setOriginalData:t,setInsertModalOpen:c,ParentId:u=null,ParentName:h=""}){const s=V(),[b,m]=i.useState(!1),[n,p]=i.useState({GroupName:"",GroupDescription:"",AllowMultipleFilesUpload:!1,MaxCount:0,ParentId:u,ParentName:h}),d=N=>{const{name:S,value:G}=N.target;p(S==="AllowMultipleFilesUpload"?{...n,[S]:G==="true"}:{...n,[S]:G})},j=async N=>{var S,G;if(N.preventDefault(),!((S=n==null?void 0:n.GroupName)!=null&&S.trim())||!((G=n==null?void 0:n.GroupDescription)!=null&&G.trim())){q("All Fields are required!","error");return}try{m(!0);const k=await E.post("/documentGroup/insert",n);if(k.status==200){const I={...await k.data,children:[]};t(u&&h?y=>y.map(g=>g.GroupId===n.ParentId?{...g,children:[...g.children||[],I]}:g):y=>[...y,I]),c(!1),q("Document Group Inserted Successfully","success")}}catch(k){U(k,s)}finally{m(!1)}};return e.jsx(e.Fragment,{children:e.jsx("div",{className:"fixed inset-0 z-20 bg-black bg-opacity-75 flex justify-center items-center",children:e.jsx("div",{className:"flex mx-auto w-full justify-center mt-[64px] max-h-[100%]",children:e.jsxs("div",{className:"w-full border bg-white sm:max-w-xl m-4 p-4 sm:m-10 overflow-y-auto scrollbar-thin scrollbar-thumb-indigo-200 scrollbar-track-transparent",children:[e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{className:"close-btn text-2xl text-indigo-700 font-extrabold hover:text-red-300",onClick:()=>c(!1),children:"X"})}),e.jsxs("div",{className:"-mt-4",children:[e.jsx("h1",{className:"text-2xl font-bold text-center text-gray-800 mb-6",children:u?"Add Sub Document":"Insert New Document"}),e.jsxs("form",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 text-base",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{htmlFor:"GroupName",className:"block text-lg font-medium text-gray-800 mb-1",children:"Group Name"}),e.jsx("input",{type:"text",id:"GroupName",name:"GroupName",onChange:d,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:border-indigo-100",required:!0})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{htmlFor:"GroupDescription",className:"block text-lg font-medium text-gray-800 mb-1",children:"Group Description"}),e.jsx("textarea",{name:"GroupDescription",id:"GroupDescription",onChange:d,rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:border-indigo-100"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"AllowMultipleFilesUpload",className:"block text-lg font-medium text-gray-800 mb-1",children:"Allow Multiple Upload"}),e.jsxs("select",{id:"AllowMultipleFilesUpload",name:"AllowMultipleFilesUpload",onChange:d,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:border-indigo-100",required:!0,children:[e.jsx("option",{value:"false",children:"False"}),e.jsx("option",{value:"true",children:"True"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"MaxCount",className:"block text-lg font-medium text-gray-800 mb-1",children:"Max Count"}),e.jsx("input",{type:"number",id:"MaxCount",name:"MaxCount",defaultValue:1,onChange:d,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:border-indigo-100",required:!0})]}),u&&h&&e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{htmlFor:"ParentName",className:"block text-lg font-medium text-gray-800 mb-1",children:"Parent Name"}),e.jsx("input",{type:"text",id:"ParentName",name:"ParentName",value:h,onChange:d,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:border-indigo-100",disabled:!0,required:!0})]}),e.jsxs("div",{className:"md:col-span-2 flex flex-wrap justify-end gap-4",children:[e.jsx("button",{type:"reset",className:"px-6 py-3 bg-red-700 text-white text-sm rounded-lg shadow-lg hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-all duration-300",children:"Clear"}),b?e.jsx(J,{}):e.jsx("button",{type:"submit",onClick:j,className:"px-6 py-3 bg-blue-900 text-white text-sm rounded-lg shadow-lg hover:bg-green-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all duration-300",children:"Insert"})]})]})]})]})})})})}function ee({data:t,setOriginalData:c,toggleChildren:u,index:h,childIndex:s,level:b}){var M,A,D,l,r;const m=V(),[n,p]=i.useState(!1),[d,j]=i.useState(!1),[N,S]=i.useState(!1),[G,k]=i.useState(!1),[f,I]=i.useState(!1),[y,F]=i.useState(0),g=()=>{j(!d)},C=()=>{S(!N)},P=()=>{k(!G)},B=()=>{I(!f)},H=async()=>{try{if(p(!0),(await E.delete(`/documentGroup/Block/${t.GroupId}`)).status==200){const o=(x,w)=>x.filter(v=>v.GroupId===w?!1:(v.children&&v.children.length>0&&(v.children=o(v.children,w)),!0));c(x=>o(x,t.GroupId)),g(),q("Data Blocked Successfully","success")}}catch(a){U(a,m)}finally{p(!1)}},R=async a=>{try{p(!0);const o=await E.put("/documentGroup/update",a);if(o.status==200){const w={...await o.data,children:[]};c(v=>v.map(z=>z.GroupId===w.GroupId?w:z)),C(),q("Document Group Updated Successfully","success")}}catch(o){U(o,m)}finally{p(!1)}},O=(a,o)=>{let x=`${a+1}`;return o.forEach(w=>{x+=`.${w+1}`}),x};i.useEffect(()=>{const a=O(h,s);F(a)},[]);const $=["bg-white","bg-cyan-100","bg-yellow-100","bg-green-100"],L=s?(a=>$[a%$.length])(b):"";return e.jsxs(e.Fragment,{children:[e.jsxs("tr",{className:`${L} text-base`,children:[e.jsxs("td",{className:`px-3 py-2 whitespace-nowrap  pl-[${b*50}px]`,children:[y," "]}),e.jsx("td",{className:"px-3 py-2 text-ellipsis whitespace-nowrap",children:((M=t==null?void 0:t.GroupName)==null?void 0:M.length)>10?`${t.GroupName.slice(0,10)} ...`:t.GroupName}),e.jsx("td",{className:"px-3 py-2 text-ellipsis whitespace-nowrap",children:((A=t==null?void 0:t.GroupDescription)==null?void 0:A.length)>20?`${t.GroupDescription.slice(0,20)} ...`:t.GroupDescription}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:((D=t==null?void 0:t.ParentName)==null?void 0:D.length)>15?`${t.ParentName.slice(0,15)} ...`:t.ParentName||"Self"}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-center",children:e.jsx("span",{className:`px-6 py-4 w-fit inline-flex justify-center text-base leading-5 font-semibold rounded-full ${t.IsActive?"bg-green-100":"bg-red-200"} text-black`,children:t.IsActive?"Active":"Blocked"})}),e.jsxs("td",{className:"px-3 py-2 whitespace-nowrap  text-center",children:[t.IsActive&&e.jsx("button",{title:"Edit",onClick:C,className:"px-2 py-1 font-medium text-white bg-blue-600 rounded-md hover:bg-blue-500 focus:outline-none focus:shadow-outline-blue active:bg-blue-600 transition duration-150 ease-in-out",children:e.jsx("i",{className:"bx bx-edit text-2xl"})}),t.IsActive&&((l=t==null?void 0:t.children)==null?void 0:l.length)===0&&e.jsx("button",{title:"Block",onClick:g,className:"ml-2 px-2 py-1 font-medium text-white bg-red-600 rounded-md hover:bg-red-500 focus:outline-none focus:shadow-outline-red active:bg-red-600 transition duration-150 ease-in-out",children:e.jsx("i",{className:"bx bx-block text-2xl"})}),t.IsActive&&e.jsx("button",{onClick:P,title:"Add Sub-Doc",className:"ml-2 px-2 py-1 font-medium text-white bg-yellow-600 rounded-md hover:bg-yellow-500 focus:outline-none focus:shadow-outline-yellow active:bg-yellow-600 transition duration-150 ease-in-out",children:e.jsx("i",{className:"bx bx-plus-medical text-2xl"})}),e.jsx("button",{onClick:B,title:"See Details",className:"ml-2 px-2 py-1 font-medium text-white bg-green-600 rounded-md hover:bg-green-500 focus:outline-none focus:shadow-outline-green active:bg-green-600 transition duration-150 ease-in-out",children:e.jsx("i",{className:"bx bx-info-circle text-2xl"})}),((r=t==null?void 0:t.children)==null?void 0:r.length)>0&&e.jsx("span",{className:"ml-1 px-2 py-1 font-medium",children:e.jsx("i",{title:"View Children",className:" bx bxs-down-arrow cursor-pointer text-base text-blue-800 hover:text-blue-600",onClick:u})})]})]}),e.jsxs("tr",{children:[d&&e.jsx("td",{children:e.jsx(Q,{isModalOpen:d,handleModal:g,deleteHandle:H,name:t==null?void 0:t.GroupName,isBeingProcessed:n})}),N&&e.jsx("td",{children:e.jsx(_,{handleEditModal:C,data:t,updateHandle:R,isBeingProcessed:n})}),G&&e.jsx("td",{children:e.jsx(X,{setOriginalData:c,setInsertModalOpen:k,ParentId:t==null?void 0:t.GroupId,ParentName:t==null?void 0:t.GroupName})}),f&&e.jsx("td",{children:e.jsx(K,{currentIndex:y,handleSeeAllModal:B,data:t})})]})]})}function W({data:t,index:c,setOriginalData:u,level:h=0,childIndex:s=[]}){var p;const[b,m]=i.useState(!1),n=()=>{m(!b)};return e.jsxs(e.Fragment,{children:[e.jsx(ee,{data:t,index:c,childIndex:s,setOriginalData:u,toggleChildren:n,level:h}),b&&((p=t.children)==null?void 0:p.length)>0&&t.children.map((d,j)=>e.jsx(W,{data:d,index:c,childIndex:[...s,j],setOriginalData:u,level:h+1},d.GroupId))]})}function te({data:t,setOriginalData:c,toggleChildren:u,index:h,childIndex:s,level:b}){var M,A,D;const m=V(),[n,p]=i.useState(!1),[d,j]=i.useState(!1),[N,S]=i.useState(!1),[G,k]=i.useState(!1),[f,I]=i.useState(!1),[y,F]=i.useState(0),g=()=>{j(!d)},C=()=>{S(!N)},P=()=>{k(!G)},B=()=>{I(!f)},H=async()=>{try{if(p(!0),(await E.delete(`/documentGroup/Block/${t.GroupId}`)).status==200){const r=(a,o)=>a.filter(x=>x.GroupId===o?!1:(x.children&&x.children.length>0&&(x.children=r(x.children,o)),!0));c(a=>r(a,t.GroupId)),g(),q("Data Blocked Successfully","success")}}catch(l){U(l,m)}finally{p(!1)}},R=async l=>{try{p(!0);const r=await E.put("/documentGroup/update",l);if(r.status==200){const o={...await r.data,children:[]};c(x=>x.map(w=>w.GroupId===o.GroupId?o:w)),C(),q("Document Group Updated Successfully","success")}}catch(r){U(r,m)}finally{p(!1)}},O=(l,r)=>{let a=`${l+1}`;return r.forEach(o=>{a+=`.${o+1}`}),a};i.useEffect(()=>{const l=O(h,s);F(l)},[]);const $=["bg-white","bg-cyan-100","bg-yellow-100","bg-green-100"],L=s?(l=>$[l%$.length])(b):"";return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:`p-6 m-4 ${L} border rounded-lg shadow-md hover:shadow-lg transition-all duration-300 `,style:{marginLeft:`${b*10}px`},children:[e.jsx("h3",{className:"text-2xl font-semibold text-gray-800",children:`${y}   ${t.GroupName}`}),e.jsxs("p",{className:" text-gray-600 mt-2 text-ellipsis",children:[e.jsx("b",{children:"Description:"})," ",((M=t==null?void 0:t.GroupDescription)==null?void 0:M.length)>15?`${t.GroupDescription.slice(0,15)} ...`:t.GroupDescription]}),e.jsxs("p",{className:"text-gray-600 mt-2",children:[e.jsx("b",{children:"Parent Name:"})," ",t.ParentName||"Self"]}),e.jsx("div",{className:"mt-4",children:e.jsx("span",{className:`inline-block px-4 py-1 rounded-full text-white text-sm font-medium ${t.IsActive?"bg-green-500":"bg-red-500"}`,children:t.IsActive?"Active":"Blocked"})}),e.jsxs("div",{className:"mt-6 flex justify-start gap-1",children:[t.IsActive&&e.jsx("button",{title:"Edit",onClick:C,className:"px-2 py-1 font-medium text-white bg-blue-600 rounded-md hover:bg-blue-500 focus:outline-none focus:shadow-outline-blue active:bg-blue-600 transition duration-150 ease-in-out",children:e.jsx("i",{className:"bx bx-edit text-2xl"})}),t.IsActive&&((A=t==null?void 0:t.children)==null?void 0:A.length)===0&&e.jsx("button",{title:"Block",onClick:g,className:"px-2 py-1 font-medium text-white bg-red-600 rounded-md hover:bg-red-500 focus:outline-none focus:shadow-outline-red active:bg-red-600 transition duration-150 ease-in-out",children:e.jsx("i",{className:"bx bx-block text-2xl"})}),t.IsActive&&e.jsx("button",{onClick:P,title:"Add Sub-Doc",className:"px-2 py-1 font-medium text-white bg-yellow-600 rounded-md hover:bg-yellow-500 focus:outline-none focus:shadow-outline-yellow active:bg-yellow-600 transition duration-150 ease-in-out",children:e.jsx("i",{className:"bx bx-plus-medical text-2xl"})}),e.jsx("button",{onClick:B,title:"See Details",className:"px-2 py-1 font-medium text-white bg-green-600 rounded-md hover:bg-green-500 focus:outline-none focus:shadow-outline-green active:bg-green-600 transition duration-150 ease-in-out",children:e.jsx("i",{className:"bx bx-info-circle text-2xl"})}),((D=t==null?void 0:t.children)==null?void 0:D.length)>0&&e.jsx("span",{className:"ml-1 px-2 py-1 font-medium",children:e.jsx("i",{title:"View Children",className:" bx bxs-down-arrow cursor-pointer text-base text-blue-800 hover:text-blue-600",onClick:u})})]})]}),d&&e.jsx(Q,{handleModal:g,deleteHandle:H,name:t==null?void 0:t.GroupName,isBeingProcessed:n}),N&&e.jsx(_,{handleEditModal:C,data:t,updateHandle:R,isBeingProcessed:n}),G&&e.jsx(X,{setOriginalData:c,setInsertModalOpen:k,ParentId:t==null?void 0:t.GroupId,ParentName:t==null?void 0:t.GroupName}),f&&e.jsx(K,{currentIndex:y,handleSeeAllModal:B,data:t})]})}function Y({data:t,index:c,setOriginalData:u,level:h=0,childIndex:s=[]}){var p;const[b,m]=i.useState(!1),n=()=>{m(!b)};return e.jsxs(e.Fragment,{children:[e.jsx(te,{data:t,index:c,childIndex:s,setOriginalData:u,toggleChildren:n,level:h}),b&&((p=t.children)==null?void 0:p.length)>0&&t.children.map((d,j)=>e.jsx(Y,{data:d,index:c,childIndex:[...s,j],setOriginalData:u,level:h+1},d.GroupId))]})}function oe(){const t=V(),[c,u]=i.useState([]),[h,s]=i.useState([]),[b,m]=i.useState(!1),[n,p]=i.useState(!1),[d,j]=i.useState(!1),[N,S]=i.useState(!1),[G,k]=i.useState(""),[f,I]=i.useState("default"),[y,F]=i.useState("default"),[g,C]=i.useState(1),[P]=i.useState(10),B=async()=>{try{m(!0);const r=await(await E.get("/documentGroup/GetList")).data,a=O(r);u(a),s(c.filter(o=>o.IsActive)),m(!1)}catch(l){U(l,t)}finally{m(!1)}},H=async()=>{try{m(!0);const r=await(await E.get("/documentGroup/GetList/true")).data,a=O(r);u(a),s(c.filter(o=>!o.IsActive)),j(!0),m(!1)}catch(l){U(l,t)}finally{m(!1)}},R=()=>{if(!d&&!n)H();else{const l=n?c.filter(r=>r.IsActive):c.filter(r=>!r.IsActive);s(l)}p(!n),C(1)};i.useEffect(()=>{document.title="Document Group List",B()},[]),i.useEffect(()=>{const l=n?c.filter(r=>!r.IsActive):c.filter(r=>r.IsActive);s(l),I("default"),F("default"),k("")},[n,c]);const O=l=>{const r={};l.forEach(o=>{r[o.GroupName]={...o,children:[]}});const a=[];return l.forEach(o=>{var x;o.ParentName?(x=r[o.ParentName])==null||x.children.push(r[o.GroupName]):a.push(r[o.GroupName])}),a},$=l=>{const r=l.target.value.toLowerCase();k(r);const a=x=>{const w=Object.values(x||{}).some(v=>v==null?void 0:v.toString().toLowerCase().includes(r));if(x.children&&Array.isArray(x.children)){const v=x.children.some(z=>a(z));return w||v}return w},o=c.filter(a);s(o),C(1)},T=()=>{let l=[...c];if(y=="default"&&f=="default")return 1;f&&(l=c.filter(r=>{var a;return(a=r[f])==null?void 0:a.toString().toLowerCase().includes(G.toLowerCase())})),y&&f&&l.sort((r,a)=>{var w,v;const o=(w=r[f])==null?void 0:w.toString().toLowerCase(),x=(v=a[f])==null?void 0:v.toString().toLowerCase();return o<x?y==="asc"?-1:1:o>x?y==="asc"?1:-1:0}),s(l),C(1)};i.useEffect(()=>{T()},[f,y,G]);const L=g*P,M=L-P,A=h.slice(M,L),D=Math.ceil(h.length/P);return e.jsx(e.Fragment,{children:b?e.jsx(Z,{}):e.jsxs("div",{className:"overflow-x-auto",children:[e.jsxs("div",{className:"flex justify-center min-[750px]:justify-end gap-8",children:[e.jsxs("button",{onClick:()=>S(!0),className:"bg-green-700 text-white p-4 rounded-xl  flex gap-2 items-center",children:[e.jsx("i",{className:"bx bx-plus-medical"})," New Doc"]}),N&&e.jsx(X,{setInsertModalOpen:S,setOriginalData:u}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",className:"rounded-xl w-4 h-4 cursor-pointer",onChange:R,onClick:T,checked:n}),e.jsx("p",{children:"Show Blocked"})]})]}),e.jsxs("div",{className:"text-3xl text-center",children:[n?"Blocked":"Active"," Document Group"]}),e.jsxs("div",{className:"flex justify-between items-center mt-4 mb-2 gap-4 flex-wrap w-full",children:[e.jsx("input",{type:"text",className:"border p-2 rounded w-screen min-[440px]:w-auto",placeholder:"Search...",value:G,onChange:$}),e.jsxs("select",{className:"border p-2 rounded cursor-pointer",onChange:l=>I(l.target.value),value:f,children:[e.jsx("option",{value:"default",disabled:!0,children:"--Filter by Column--"}),e.jsx("option",{value:"GroupName",children:"Group Name"}),e.jsx("option",{value:"GroupDescription",children:"Group Description"}),e.jsx("option",{value:"ParentName",children:"Parent Name"})]}),e.jsxs("select",{className:"border p-2 rounded cursor-pointer",onChange:l=>F(l.target.value),value:y,children:[e.jsx("option",{value:"default",disabled:!0,children:"--Sort Order--"}),e.jsx("option",{value:"asc",disabled:f==="default",className:f==="default"?"text-red-400":"",children:"Ascending"}),e.jsx("option",{value:"desc",disabled:f==="default",className:f==="default"?"text-red-400":"",children:"Descending"})]})]}),e.jsxs("table",{className:"text-base w-full divide-y border-spacing-x-4 hidden min-[889px]:table min-[750px]:table-auto divide-gray-200",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"S.N"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Group Name"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Group Description"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Parent Name"}),e.jsx("th",{className:"px-3 py-2 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-3 py-2 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Action"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200 overflow",children:A.length===0?e.jsx("tr",{children:e.jsx("td",{className:" text-3xl bg-red-200 py-20 text-center rounded-3xl",colSpan:7,children:"No data available"})}):A.map((l,r)=>e.jsx(W,{index:M+r,data:l,setOriginalData:u},l.GroupId))})]}),e.jsx("div",{className:"visible min-[889px]:hidden flex flex-col",children:A.length===0?e.jsx("div",{children:e.jsx("p",{className:"text-3xl my-5 bg-red-200 py-20 text-center rounded-3xl",children:"No data available"})}):A.map((l,r)=>e.jsx(Y,{index:M+r,data:l,setOriginalData:u},l.GroupId))}),e.jsxs("div",{className:"flex justify-between items-center mt-4",children:[e.jsx("button",{disabled:g===1,onClick:()=>C(l=>l-1),className:"p-2 border rounded disabled:bg-blue-300 bg-blue-600 disabled:hover:bg-blue-300 text-white hover:bg-blue-800 ",children:"Previous"}),e.jsx("div",{className:"flex gap-2",children:Array.from({length:D},(l,r)=>e.jsx("button",{onClick:()=>C(r+1),className:`p-2 border rounded ${g===r+1?"bg-blue-600 text-white":"hover:bg-blue-800 hover:text-white"}`,children:r+1},r+1))}),e.jsx("button",{disabled:g===D,onClick:()=>C(l=>l+1),className:"p-2 border rounded disabled:bg-blue-300 bg-blue-600 disabled:hover:bg-blue-300 text-white hover:bg-blue-800",children:"Next"})]})]})})}export{oe as default};
